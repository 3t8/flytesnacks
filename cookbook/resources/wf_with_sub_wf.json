{
  "id": {
    "resource_type": "WORKFLOW",
    "project": "flytetester",
    "domain": "staging",
    "name": "cookbook.sample_workflows.formula_1.outer.StaticSubWorkflowCaller",
    "version": "d48e2c5457c3bfcc9687fcb15282525ee65bd12a"
  },
  "closure": {
    "compiled_workflow": {
      "primary": {
        "template": {
          "id": {
            "resource_type": "WORKFLOW",
            "project": "flytetester",
            "domain": "staging",
            "name": "cookbook.sample_workflows.formula_1.outer.StaticSubWorkflowCaller",
            "version": "d48e2c5457c3bfcc9687fcb15282525ee65bd12a"
          },
          "metadata": {},
          "interface": {
            "inputs": {
              "variables": {
                "outer_a": {
                  "type": {
                    "simple": "INTEGER"
                  },
                  "description": "Input for inner workflow"
                }
              }
            },
            "outputs": {
              "variables": {
                "wf_output": {
                  "type": {
                    "simple": "INTEGER"
                  }
                }
              }
            }
          },
          "nodes": [
            {
              "id": "start-node"
            },
            {
              "id": "end-node",
              "inputs": [
                {
                  "var": "wf_output",
                  "binding": {
                    "promise": {
                      "node_id": "identity-wf-execution",
                      "var": "task_output"
                    }
                  }
                }
              ]
            },
            {
              "id": "identity-wf-execution",
              "metadata": {
                "name": "identity_wf_execution",
                "timeout": "0s",
                "retries": {}
              },
              "inputs": [
                {
                  "var": "a",
                  "binding": {
                    "promise": {
                      "node_id": "start-node",
                      "var": "outer_a"
                    }
                  }
                }
              ],
              "workflow_node": {
                "sub_workflow_ref": {
                  "resource_type": "WORKFLOW",
                  "project": "flytetester",
                  "domain": "staging",
                  "name": "cookbook.sample_workflows.formula_1.inner.IdentityWorkflow",
                  "version": "d48e2c5457c3bfcc9687fcb15282525ee65bd12a"
                }
              }
            }
          ],
          "outputs": [
            {
              "var": "wf_output",
              "binding": {
                "promise": {
                  "node_id": "identity-wf-execution",
                  "var": "task_output"
                }
              }
            }
          ]
        },
        "connections": {
          "downstream": {
            "identity-wf-execution": {
              "ids": [
                "end-node"
              ]
            },
            "start-node": {
              "ids": [
                "identity-wf-execution"
              ]
            }
          },
          "upstream": {
            "end-node": {
              "ids": [
                "identity-wf-execution"
              ]
            },
            "identity-wf-execution": {
              "ids": [
                "start-node"
              ]
            }
          }
        }
      },
      "sub_workflows": [
        {
          "template": {
            "id": {
              "resource_type": "WORKFLOW",
              "project": "flytetester",
              "domain": "staging",
              "name": "cookbook.sample_workflows.formula_1.inner.IdentityWorkflow",
              "version": "d48e2c5457c3bfcc9687fcb15282525ee65bd12a"
            },
            "metadata": {},
            "interface": {
              "inputs": {
                "variables": {
                  "a": {
                    "type": {
                      "simple": "INTEGER"
                    },
                    "description": "Input for inner workflow"
                  }
                }
              },
              "outputs": {
                "variables": {
                  "task_output": {
                    "type": {
                      "simple": "INTEGER"
                    }
                  }
                }
              }
            },
            "nodes": [
              {},
              {
                "id": "end-node",
                "inputs": [
                  {
                    "var": "task_output",
                    "binding": {
                      "promise": {
                        "node_id": "odd-nums-task",
                        "var": "out"
                      }
                    }
                  }
                ]
              },
              {
                "id": "odd-nums-task",
                "metadata": {},
                "inputs": [],
                "task_node": {
                  "reference_id": {
                    "resource_type": "TASK",
                    "project": "flytetester",
                    "domain": "staging",
                    "name": "cookbook.sample_workflows.formula_1.inner.inner_task",
                    "version": "d48e2c5457c3bfcc9687fcb15282525ee65bd12a"
                  }
                }
              }
            ],
            "outputs": [
              {
                "var": "task_output",
                "binding": {
                  "promise": {
                    "node_id": "odd-nums-task",
                    "var": "out"
                  }
                }
              }
            ]
          },
          "connections": {
            "downstream": {
              "odd-nums-task": {
                "ids": [
                  "end-node"
                ]
              },
              "start-node": {
                "ids": [
                  "odd-nums-task"
                ]
              }
            },
            "upstream": {
              "end-node": {
                "ids": [
                  "odd-nums-task"
                ]
              },
              "odd-nums-task": {
                "ids": [
                  "start-node"
                ]
              }
            }
          }
        }
      ],
      "tasks": [
        {
          "template": {
            "id": {
              "resource_type": "TASK",
              "project": "flytetester",
              "domain": "staging",
              "name": "cookbook.sample_workflows.formula_1.inner.inner_task",
              "version": "d48e2c5457c3bfcc9687fcb15282525ee65bd12a"
            },
            "type": "python-task",
            "metadata": {
              "runtime": {
                "type": "FLYTE_SDK",
                "version": "0.4.4",
                "flavor": "python"
              },
              "timeout": "0s",
              "retries": {}
            },
            "interface": {
              "inputs": {
                "variables": {
                  "num": {
                    "type": {
                      "simple": "INTEGER"
                    }
                  }
                }
              },
              "outputs": {
                "variables": {
                  "out": {
                    "type": {
                      "simple": "INTEGER"
                    }
                  }
                }
              }
            },
            "container": {
              "image": "docker.io/lyft/flyteexamples:d48e2c5457c3bfcc9687fcb15282525ee65bd12a",
              "args": [
                "service_venv",
                "pyflyte-execute",
                "--task-module",
                "cookbook.sample_workflows.formula_1.inner",
                "--task-name",
                "inner_task",
                "--inputs",
                "{{.input}}",
                "--output-prefix",
                "{{.outputPrefix}}"
              ],
              "resources": {},
              "env": [
                {
                  "key": "FLYTE_INTERNAL_CONFIGURATION_PATH",
                  "value": "/root/local.config"
                },
                {
                  "key": "FLYTE_INTERNAL_IMAGE",
                  "value": "docker.io/lyft/flyteexamples:d48e2c5457c3bfcc9687fcb15282525ee65bd12a"
                },
                {
                  "key": "FLYTE_INTERNAL_PROJECT",
                  "value": "flytetester"
                },
                {
                  "key": "FLYTE_INTERNAL_DOMAIN",
                  "value": "staging"
                },
                {
                  "key": "FLYTE_INTERNAL_NAME"
                },
                {
                  "key": "FLYTE_INTERNAL_VERSION",
                  "value": "d48e2c5457c3bfcc9687fcb15282525ee65bd12a"
                }
              ]
            }
          }
        }
      ]
    },
    "created_at": "2020-02-05T22:06:07.743678Z"
  }
}